<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>第一题</title>
		<link rel="stylesheet" type="text/css" href="src/bootstrap.min.css">
		<script type="text/javascript" src='src/jquery-3.1.1.min.js'></script>
	</head>
	<body>
		<h2 style="text-align:center;margin-bottom:20px;">第一题： 迷宫</h2>
		<a href="que2.html"><p style="text-align:center;margin-bottom:20px;">第二题</p></a>
		<form style="width:40%;margin:0 auto;" class="form-horizontal">
  			<div class="form-group">
    			<label class="col-sm-2 control-label">高度</label>
    			<div class="col-sm-10">
    				<input type="text" class="form-control" id="height">
    			</div>
  			</div>
  			<div class="form-group">
    			<label class="col-sm-2 control-label">宽度</label>
    			<div class="col-sm-10">
    				<input type="text" class="form-control" id="width">
    			</div>
 			</div> 
 			<div class="form-group">
 				<div class="col-sm-offset-2 col-sm-10">
  					<button type="button" class="btn btn-default" id="button">生成</button>
  				</div>
  			</div>
		</form>
		<div style="width:40%;margin:0 auto;">
			<h4 style="margin-left:35px;">Path：</h4>
			<p id='path' style="margin-left:35px;word-break:break-word;"></p>
			<img id='img' style="display:block;margin:10px auto;"></img>
		</div>
	</body>
	<script type="text/javascript">
	function isInt(n){
        return n == Math.abs(parseInt(n));
	}
	$(document).ready(function(){
		$('#button').click(function(){
			var he = $('#height').val();
			var wi = $('#width').val();
			var timestamp=new Date().getTime();
			if(!isInt(he) || !isInt(wi)){alert('请输入正整数！'); return;}
			$.ajax({
				url:"maze.php",
				type:'post',
				data:{
					height: he,
					width: wi,
					filename: timestamp,
				},
				success:function(result){
					$('#path').html(result);
        			$("#img").attr('src','src/'+timestamp+'.png');
    			}
    		});
		});
	});
	</script>
</html>